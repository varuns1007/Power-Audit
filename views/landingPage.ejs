<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Green House | Save Energy</title>
    <link rel="stylesheet" href="/stylesheets/landingPage.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
    <%- include('./imports') -%>
  </head>
  <body>
    <!-- Toast -->
    <div
      class="toast bg-secondary px-4"
      style="
        display: none;
        position: absolute;
        top: 20px;
        right: 10px;
        z-index: 1051;
        width: fit-content;
        font-size: 1.1rem;
        transition: 0.7s;
      "
      id="toast"
    >
      <div class="toast-body text-light" id="toastMessage">
        Hello, world! This is a toast message.
      </div>
    </div>

    <header>
      <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
          <!-- <a class="navbar-brand" href="#"></a> -->
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a
                  class="nav-link active"
                  aria-current="page"
                  href="/weeklyreport"
                  >Weekly Report</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="#addRoom"
                  data-bs-toggle="modal"
                  data-bs-target="#addNewRoomModal"
                  >Add Room</a
                >
              </li>
            </ul>
            <span class="login">
              <% if(user){ %>
              <a
                href="/logout"
                class="nav-link-btn"
                data-toggle="modal"
                data-target="#exampleModal"
                >Logout</a
              >
              <% }else{ %>
              <a href="/signin/google" class="nav-link-btn">Sign In</a>
              <% } %>
            </span>
          </div>
        </div>
      </nav>
    </header>

    <div class="hero-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-8">
            <h2 class="hero-title">Green House</h2>
            <h5 class="hero-subtitle">Save Energy</h5>
          </div>
          <div class="col-3">
            <img class="bulb-svg" src="/assets/bulb.svg" alt="" />
          </div>
        </div>
      </div>
    </div>

    <div class="dashboard">
      <div class="container">
        <h6 class="dashboard-title text-center">DashBoard</h6>
        <form class="row no-gutters mb-4 mt-4 col-12 g-2">
          <div class="col-lg-8 col-md-8">
            <input
              class="form-control mr-sm-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
          </div>
          <div class="col-lg-4 col-md-4 col-2 mr-4">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">
              Search
            </button>
          </div>
        </form>
        <h6 class="dashboard-subtitle">Rooms</h6>

        <div class="rooms-container">
          <div class="container">
            <div
              class="row row-cols-1 row-cols-lg-4 row-cols-md-3 row-cols-sm-2 g-4"
              id="roomsContainer"
            ></div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="row no-gutters py-2">
          <div class="col-12 d-flex justify-content-center">
            <span class="text-center copyright pt-1">
              Â© 2021 Copyright : Green House
            </span>
          </div>
          <div class="col-12 d-flex justify-content-center mt-2">
            <div class="contact-links">
              <a class="mx-3" href="#youtube"
                ><i class="contact-icon bi bi-youtube" style="color: red"></i
              ></a>
              <a class="mx-3" href="#instagram"
                ><i
                  class="contact-icon bi bi-instagram"
                  style="color: purple"
                ></i
              ></a>
              <a class="mx-3" href="#facebook"
                ><i class="contact-icon bi bi-facebook" style="color: blue"></i
              ></a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Add New Room Modal -->
    <div
      class="modal fade"
      id="addNewRoomModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add New Room</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form class="row g-3 needs-validation" novalidate>
              <div class="col-12">
                <label for="roomName" class="form-label">Room name</label>
                <input
                  type="text"
                  class="form-control"
                  id="roomName"
                  placeholder="BEE Lab"
                  required
                />
              </div>
              <!-- Select Appliances -->
              <h6 class="mb-0">Add Appliance's</h6>
              <div class="col-12 p-2 rounded" style="border: 1px solid #d7d7d7">
                <div class="row no-gutters g-2">
                  <div class="col-12 mb-2">
                    <div class="input-group">
                      <select
                        class="custom-select w-100 form-control"
                        id="applianceInput"
                        onchange="applianceSelected()"
                      >
                        <!-- <option selected>Ac</option>
                    <option value="1">Projector</option>
                    <option value="2">Tubelight</option>
                    <option value="3">Three</option> -->
                      </select>
                    </div>
                  </div>
                  <div class="col-lg-6 col-md-6 col-12">
                    <label for="quantityInput" class="form-label"
                      >Quantity</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="quantityInput"
                      aria-describedby="inputGroupPrepend"
                      value="1"
                      required
                    />
                  </div>

                  <div class="col-lg-6 col-md-6 col-12">
                    <label for="hoursUsed" class="form-label"
                      >Hour's Used/week</label
                    >
                    <div class="input-group has-validation">
                      <input
                        type="number"
                        class="form-control"
                        id="hoursUsed"
                        aria-describedby="inputGroupPrepend"
                        value="1"
                        required
                      />

                      <span class="input-group-text" id="inputGroupPrepend"
                        >Hrs</span
                      >
                    </div>
                  </div>
                  <div class="col-lg-6 col-md-6 col-12">
                    <label for="powerInput" class="form-label"
                      >Power Consumption</label
                    >
                    <div class="input-group has-validation">
                      <input
                        type="text"
                        class="form-control"
                        id="powerInput"
                        aria-describedby="inputGroupPrepend"
                        disabled
                      />

                      <span class="input-group-text" id="inputGroupPrepend"
                        >kWh</span
                      >
                    </div>
                  </div>
                  <div class="col-12 text-end">
                    <button class="btn btn-primary" onClick="addAppliance()">
                      Add Appliance
                    </button>
                  </div>
                </div>
              </div>

              <!-- Appliances List -->
              <div class="col-12">
                <label class="form-label">Appliances</label>
                <div class="selectedAppliances" id="selectedAppliances"></div>
              </div>
              <div class="col-12 text-end">
                <button class="btn btn-primary" onclick="addRoom()">
                  Add Room
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Add New Appliance -->
    <div
      class="modal fade"
      id="addNewApplianceModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add New Room</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form action="" class="row g-3">
              <div class="col-12">
                <label for="roomName" class="form-label">Appliance name</label>
                <input
                  type="text"
                  class="form-control"
                  id="applianceName"
                  placeholder="BEE Lab"
                  required
                />
              </div>

              <div class="col-12">
                <label for="powerConsumption" class="form-label"
                  >Power Consumption</label
                >
                <div class="input-group has-validation">
                  <input
                    type="text"
                    class="form-control"
                    id="powerConsumption"
                    aria-describedby="inputGroupPrepend"
                    required
                  />

                  <span class="input-group-text" id="inputGroupPrepend"
                    >kWh</span
                  >
                </div>
              </div>

              <div class="col-12 text-end">
                <button class="btn btn-primary" onclick="addNewAppliance()">
                  Add Room
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script src="/js/landingPage.js"></script>
  </body>
</html>
